<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel Administrativo - PAAC</title>
  <link rel="stylesheet" href="dashboardAdmin.css">
</head>
<body>
  <main class="container">
    <h1>Panel Administrativo - Licenciatura en Sistemas de Información</h1>
    <p class="intro">Revisión de PAAC para aprobación final</p>

    <ul class="sede-list">
      <li>
        <button class="toggle sede-toggle active">Sede Capital</button>
        <ul class="nested">
          <li>
            <button class="toggle dept-toggle active">Departamento de Ciencias Exactas</button>
            <ul class="nested">
              <li>
                <button class="toggle career-toggle active">Licenciatura en Sistemas de Información</button>
                <ul class="nested">
                  <!-- Materia 1 -->
                  <li>
                    <button class="toggle subject-toggle active">Algoritmos y Estructuras de Datos</button>
                    <div class="subject-container">
                      <ul class="subject-options">
                        <li class="approval-status">
                          <span class="status up-approved">Unidad Pedagógica: Pendiente de aprobacion ✓</span>
                        </li>
                        <li class="approval-status">
                          <span class="status dc-approved">Dirección Carrera: Pendiente de aprobacion ✓</span>
                        </li>
                        <li>
                          <a href="formRevision.html" class="current-paac">PAAC Actual (2024)</a>
                        </li>
                        <li class="checkbox-item">
                          <label class="checkbox-label">
                            <input type="checkbox" class="paac-checkbox" checked>
                            <span class="checkmark"></span>
                            Seleccionar para resolución
                          </label>
                        </li>
                      </ul>
                    </div>
                  </li>
                  
                  <!-- Materia 2 -->
                  <li>
                    <button class="toggle subject-toggle active">Base de Datos</button>
                    <div class="subject-container">
                      <ul class="subject-options">
                        <li class="approval-status">
                          <span class="status up-approved">Unidad Pedagógica: Pendiente de aprobacion ✓</span>
                        </li>
                        <li class="approval-status">
                          <span class="status dc-pending">Dirección Carrera: No aprobado ✗</span>
                        </li>
                        <li>
                          <a href="formRevision.html" class="current-paac">PAAC Actual (2024)</a>
                        </li>
                        <li class="checkbox-item">
                          <label class="checkbox-label disabled">
                            <input type="checkbox" class="paac-checkbox" disabled>
                            <span class="checkmark"></span>
                            No disponible
                          </label>
                        </li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>

    <div class="resolution-form">
      <h2>Resolución</h2>
      <div class="form-group">
        <label for="resolutionNumber">Número de Resolución:</label>
        <input type="text" id="resolutionNumber" placeholder="Ej: 1234/2024">
      </div>
      <div class="form-group">
        <label for="resolutionDate">Fecha:</label>
        <input type="date" id="resolutionDate">
      </div>
      <button id="generateResolution" class="generate-btn">Aprobar</button>
    </div>
  </main>

  <script>
    // Manejar toggles de navegación
    document.querySelectorAll('.toggle').forEach(button => {
      button.addEventListener('click', (e) => {
        e.stopPropagation();
        const container = button.nextElementSibling;
        container.classList.toggle('hidden');
        button.classList.toggle('active');
      });
    });

    // Generar resolución
    document.getElementById('generateResolution').addEventListener('click', function() {
      const selectedCount = document.querySelectorAll('.paac-checkbox:checked:not(:disabled)').length;
      const resolutionNumber = document.getElementById('resolutionNumber').value;
      const resolutionDate = document.getElementById('resolutionDate').value;
      
      if (!resolutionNumber || !resolutionDate) {
        alert('Por favor complete todos los campos');
        return;
      }

      if (selectedCount === 0) {
        alert('Por favor seleccione al menos una materia aprobada');
        return;
      }

      if (confirm(`¿Generar resolución ${resolutionNumber} con ${selectedCount} materias seleccionadas?`)) {
        alert(`Resolución ${resolutionNumber} generada correctamente para fecha ${resolutionDate}`);
        // Aquí iría la lógica para enviar los datos al servidor
      }
    });
  </script>
</body>
</html>